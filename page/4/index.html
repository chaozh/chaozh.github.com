<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>chaozh.com</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="系统架构,移动开发,独立游戏">
<meta property="og:type" content="website">
<meta property="og:title" content="chaozh.com">
<meta property="og:url" content="http://chaozh.github.com/page/4/index.html">
<meta property="og:site_name" content="chaozh.com">
<meta property="og:description" content="系统架构,移动开发,独立游戏">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="chaozh.com">
<meta name="twitter:description" content="系统架构,移动开发,独立游戏">
  
    <link rel="alternative" href="/atom.xml" title="chaozh.com" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">chaozh.com</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">超然台上仙的知识库|系统架构,移动开发,独立游戏</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/php-development-env-setup-in-win7-x64.html">PHP-WIN</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://chaozh.github.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-tech-problems-programer-should-know" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/09/21/tech-problems-programer-should-know/" class="article-date">
  <time datetime="2014-09-21T22:08:52.000Z" itemprop="datePublished">2014-09-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/面试总结/">面试总结</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/21/tech-problems-programer-should-know/">程序员应该掌握的技术常识问题[持续更新]</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-SAN与NAS的不同，有哪些存储开源社区"><a href="#1-SAN与NAS的不同，有哪些存储开源社区" class="headerlink" title="1. SAN与NAS的不同，有哪些存储开源社区"></a>1. SAN与NAS的不同，有哪些存储开源社区</h2><p>san是存储区域网络，使用FC将存储设备连接起来形成的一个网络架构，以基于块的方式存储数据。</p>
<p>nas是网络附属存储，是一种网络存储服务器，以基于文件的方式存储数据。</p>
<p>存储方面的社区有ceph, freenas, openstack, suse, redhat，基本上一个开源产品对应一个开源社区。</p>
<h2 id="2-LINUX内核开发需要注意的问题"><a href="#2-LINUX内核开发需要注意的问题" class="headerlink" title="2. LINUX内核开发需要注意的问题"></a>2. LINUX内核开发需要注意的问题</h2><p>内核开发需要注意：使用GNU C而非标准C语法（前者允许零长度数组，允许特殊属性声明<code>__attribute__((aligned(4)));</code>），慎用内核栈，没有用户态c标准库，注意同步和并发中断，不要轻易使用浮点数。</p>
<h2 id="3-内核中使用链表结构与用户态链表有什么不同"><a href="#3-内核中使用链表结构与用户态链表有什么不同" class="headerlink" title="3. 内核中使用链表结构与用户态链表有什么不同"></a>3. 内核中使用链表结构与用户态链表有什么不同</h2><p>内核链表结构不含数据域，使用时作为成员嵌入到对应结构中；用户态链表实现通常直接使用结构指针，STL实现也是将结构包含在链表节点结构中。</p>
<h2 id="4-内核中红黑树的使用，特别是文件系统中的使用；基树又是怎么使用的"><a href="#4-内核中红黑树的使用，特别是文件系统中的使用；基树又是怎么使用的" class="headerlink" title="4. 内核中红黑树的使用，特别是文件系统中的使用；基树又是怎么使用的"></a>4. 内核中红黑树的使用，特别是文件系统中的使用；基树又是怎么使用的</h2><p>内核在进程地址空间的线性区管理(vm_area_struct)中使用了红黑树，新版的进程调度也使用了红黑树。</p>
<p>在linux 2.4时，可执行状态的进程被挂在一个链表中。每次调度，调度程序需要扫描整个链表，以找出最优的那个进程来运行。复杂度为O(n)；在linux 2.6早期，可执行状态的进程被挂在N(N=140)个链表中，每一个链表代表一个优先级，系统中支持多少个优先级就有多少个链表。每次调度，调度程序只需要从第一个不为空的链表中取出位于链表头的进程即可。这样就大大提高了调度程序的效率，复杂度为O(1)；在linux 2.6近期的版本中，可执行状态的进程按照优先级顺序被挂在一个红黑树（可以想象成平衡二叉树）中。每次调度，调度程序需要从树中找出优先级最高的进程。复杂度为O(logN)。</p>
<p>在18内核中文件系统方面仅有ocfs2，jffs2及ext3在使用红黑树，ext3在创建reservation window时使用了红黑树结构进行管理，主要是考虑文件增长会导致无法线性分配，所以先预留了一些空间(8块)，具体原因可以<a href="http://blog.chinaunix.net/uid-20417916-id-3054702.html" target="_blank" rel="noopener">参看此文</a>及<a href="http://blog.chinaunix.net/uid-20417916-id-3054703.html" target="_blank" rel="noopener">此文</a>，这颗红黑树的建立是为方便搜索其他预留窗口。</p>
<p>在32内核中连ext2也开始使用分配预留机制所以也使用红黑树，ext3及ext4在启用目录索引(磁盘上是B+树组织)时会在file的private_data中存放了dir_private_info结构，用来将一个打开目录文件的全部目录项组织成红黑树，其 root 字段指向 rbtree 的根 , rbtree 的节点由各 struct fname 结构（包含磁盘目录项的信息）的 rb_hash 字段形成，这颗红黑树的建立是为方便大目录的readdir操作多次进行。</p>
<p>nfs使用红黑树管理Access mode cache即acl元数据信息缓存，btrfs大量使用红黑树。</p>
<p>基树仅在Page cache中使用，将文件逻辑层的数据以页的形式映射到页高速缓存中，这些文件可能来自文件系统（文件数据或目录）也可能是块设备抽象。</p>
<h2 id="5-B树和HASH方法的时间复杂度以及在系统中的表现，文件上散列又有何问题"><a href="#5-B树和HASH方法的时间复杂度以及在系统中的表现，文件上散列又有何问题" class="headerlink" title="5. B树和HASH方法的时间复杂度以及在系统中的表现，文件上散列又有何问题"></a>5. B树和HASH方法的时间复杂度以及在系统中的表现，文件上散列又有何问题</h2><p>B树访问是O(lgn)（树高度）复杂度，hash是O(1)复杂度。但是B树可扩展性更好，对于B+树来说在磁盘上对范围访问有很好的支持，相对hash表方法不易扩展且磁盘上范围访问性能不佳。顺序写文件并使用hash在顺序文件上做索引的方法，仍然受hash表大小限制不易扩展，且当索引表无法全部加载到内存时，hash随机访问特性无法在硬盘上发挥。</p>
<h2 id="6-LINUX下线程与进程描述与区别"><a href="#6-LINUX下线程与进程描述与区别" class="headerlink" title="6.LINUX下线程与进程描述与区别"></a>6.LINUX下线程与进程描述与区别</h2><p>Linux下线程就是轻量级的进程，其进程描述符task_struct中tgid字段即为线程所属进程的pid，real_parent字段会指向所属进程的real_parent字段，thread_group链表字段会串起所有的线程。同时线程的地址空间mm、打开文件files、文件系统信息fs及信号处理sighand都会共用进程的。线程又分为用户态线程和内核态线程，用户态的线程栈是使用mmap在进程的堆空间分配的。内核线程使用clone系统调用创建时置CLONE_VM标志导致copy_mm()中将active_mm与mm赋值与父进程（所有内核线程的父进程都是kthreadd内核线程，而该内核线程又由swap内核线程创建，故而mm都是NULL）相同，避免复制页表。因为内核线程不会使用用户态地址，故而在运行时mm为NULL，active_mm指向上一个运行进程的active_mm。</p>
<h2 id="7-大致描述PAXOS过程及偶数台机器的处理"><a href="#7-大致描述PAXOS过程及偶数台机器的处理" class="headerlink" title="7. 大致描述PAXOS过程及偶数台机器的处理"></a>7. 大致描述PAXOS过程及偶数台机器的处理</h2><p>标准Paxos过程涉及三种角色proposer、accpetor以及learner，整个过程分为两大阶段：第一个阶段是选值，第二个阶段是同步，第一阶段中proposer提出编号为n的提案；accepetor在确认自己没有见过高于编号n的提案后回复对应proposer，否则将返回对应提案的值v，当proposer收到大多数的accepetor的确认信息后进入第二阶段；第二阶段中proposer如果收到大多数accepetor的提案值则只能选择该值，否则可以自由选值，并将该值同步到大多数accepetor，此时learner也将从大多数accepetor中学习到该值。paxos利用大多数原则保证一致性。</p>
<p>当因为偶数台出现无法选举成功时，可以先移除一台完成选举并检查网络问题。</p>
<h2 id="8-WORDPRESS大致流程，其中URL固定链接如何实现的"><a href="#8-WORDPRESS大致流程，其中URL固定链接如何实现的" class="headerlink" title="8. WORDPRESS大致流程，其中URL固定链接如何实现的"></a>8. WORDPRESS大致流程，其中URL固定链接如何实现的</h2><p>分为admin与user两种大致逻辑。user起点是index.php并进入wp-blog-loader.php装载模型与视图而admin起点为wp-admin.php，之后进入wp-load.php加载wp-config.php初始化wp及wp-settings.php包括所有启用的plugins和主题的functions.php完成模型，之后uer使用template-loader.php完成视图，admin使用固定文件完成对应视图。</p>
<p>首先需要web服务器开启rewrite功能，将url统一定位到index.php，其后由WP接管负责处理url。整个过程如下：</p>
<p>a. wp初始化过程；b.在wp-setting.php中建立全局变量，特别是$wp和$wp_rewrite；c. 在classes.php中调用$wp的parse_request方法解析URL，该方法会处理$_SERVER[&#39;REUEST_URI&#39;]或$_SERVER[&#39;PATH_INFO&#39;]从而建立变量$request，然后使用$wp_rewrite的wp_rewrite_rules方法获取rewrite规则并逐条对$request进行匹配(preg_match)，如果找到一个匹配, 则建立相关的变量$perma_query_vars并最后保存在 $wp-&gt;query_vars里；其中rewrite规则会保存在数据库的option表中。主要参考<a href="http://www.onexin.net/wordpress-rewrite-permalink-internal-process-analysis/" target="_blank" rel="noopener">这篇文章</a>。</p>
<h2 id="9-VFS大致构成介绍，其中-DENTRY结构如何形成，-INODE结构如何形成"><a href="#9-VFS大致构成介绍，其中-DENTRY结构如何形成，-INODE结构如何形成" class="headerlink" title="9. VFS大致构成介绍，其中 DENTRY结构如何形成， INODE结构如何形成"></a>9. VFS大致构成介绍，其中 DENTRY结构如何形成， INODE结构如何形成</h2><p>VFS为同一个目录结构下可能挂载的不同文件系统提供了统一接口，VFS提供了通用文件模型的多种对象内存结构包括file_system_type, super_block，inode，file，dentry以及进程相关结构包括files_struct及fs_struct，还有通用的页高速缓存page cache。</p>
<p>其中dentry结构在lookup操作发现dentry缓存中没有对应目录项时会从磁盘上读取目录内容找到对应目录项的内容（该操作为底层操作系统的lookup操作）并建立对应的dentry内存结构。</p>
<p>inode结构有三种形成方式，第一种是超级块载入时会将对应的inode读入并生成内存结构；第二种是mknod或create系统调用创建新的inode结构并标记为脏同步磁盘；第三种是lookup操作时目录项不在缓存中，完成dentry创建后还可能需要完成对应inode内存结构的创建并进行绑定。</p>
<h2 id="10-JBD大致介绍及产生原因"><a href="#10-JBD大致介绍及产生原因" class="headerlink" title="10. JBD大致介绍及产生原因"></a>10. JBD大致介绍及产生原因</h2><p>JBD是一个日志子系统为ext系列文件系统提供一个独立的日志化系统，利用数据库中的日志技术实现WAL协议以加速e2fsck对系统一致性检查及系统一致性恢复的速度。JBD提供原子操作和事务两种抽象接口，前者保证多个低级操作构成的一个高级操作可以原子性的更新到文件系统，后者保证多个原子操作会原子性的提交到日志。JBD提供三种模式：journal模式会将数据及元数据都记入日志；ordered模式是默认模式会在元数据提交到日志前保证将对应数据写到磁盘对应位置；writeback模式只记录元数据到日志无视数据。</p>
<h2 id="11-什么是高端内存，在64G内存下又是什么情况"><a href="#11-什么是高端内存，在64G内存下又是什么情况" class="headerlink" title="11. 什么是高端内存，在64G内存下又是什么情况"></a>11. 什么是高端内存，在64G内存下又是什么情况</h2><p>在32位系统中，线性地址空间是4G，其中内核规定3~4G的范围是内核空间，它映射到了物理地址的0~1G上.。然而 实际上没有映射1G，只映射了896M。大于896M的物理地址即高端内存，是没有写死的页表来对应的，内核必须要建立映射才能访问它们。该机制可以满足1G的内核线性空间寻址大于1G的物理空间的要求，比如应付PAE下对64G物理空间的寻址。</p>
<p>如果机器内存不足896M，就不存在高端内存。如果是64位机器，因为可用地址空间很大，也不存在高端内存，其中属于内核的线性空间默认为2G，具体规划<a href="http://www.ibm.com/developerworks/cn/linux/kernel/l-ia64/" target="_blank" rel="noopener">可见此文</a>。</p>
<h2 id="12-VM何时会产生，新建进程时已经刷新过页表之前为何还要分配VM"><a href="#12-VM何时会产生，新建进程时已经刷新过页表之前为何还要分配VM" class="headerlink" title="12. VM何时会产生，新建进程时已经刷新过页表之前为何还要分配VM"></a>12. VM何时会产生，新建进程时已经刷新过页表之前为何还要分配VM</h2><p>父进程通过fork创建子进程时使用copy_mm时会复制父进程的所有线性区（dup_mmap会遍历链表并进行复制），之后根据线性区情况填充对应子进程的页表。当可执行映象映射到进程的虚拟地址空间时，通过exec调用do_mmap也可能产生新的线性区。</p>
<p>进程建立vm_area_struct结构后，只是说明进程可以访问这个虚存空间，但有可能还没有分配相应的物理页面并建立好页面映射。在这种情况下，若是进程执行中有指令需要访问该虚存空间中的内存，便会产生一次缺页异常。这时候，就需要通过vm_area_struct结构里面的vm_ops-&gt;nopage所指向的函数来将产生缺页异常的地址对应的文件数据读取出来。</p>
<p>首先子进程需要继承父进程的地址空间，其次对于以后会调用exec的子进程也需要所有线性地址并标记为只读以确保能触发COW机制。</p>
<h2 id="13-如何实现线程安全"><a href="#13-如何实现线程安全" class="headerlink" title="13. 如何实现线程安全"></a>13. 如何实现线程安全</h2><p>实现线程安全可以采用不共享状态变量，使用原子操作，或使用同步手段。</p>
<h2 id="14-大致描述下LIRS算法的过程"><a href="#14-大致描述下LIRS算法的过程" class="headerlink" title="14.大致描述下LIRS算法的过程"></a>14.大致描述下LIRS算法的过程</h2><p>所有缓存被分为冷区及热区，热区占用大部分缓存，另外准备一个空间用于存储最近被访问的块。当空间中一个块被命中时就会调至顶部，并通过操作移除空间底部的所有冷块直至底部是热块（这保证底部一定是热块且当该热块被移除后上面的冷块是没机会变成热块的）；当空间中冷块被访问到就会转换为热块，同时空间底部的热块就会变为冷块并移至冷区缓存顶部，注意此时该冷块不一定出现在冷区中；当冷区中的冷块命中而空间中没有命中时，只要将其移到到冷区顶部；当未命中时，就必须替换冷区缓存底部的块。注意在空间中的块不一定在缓存中。</p>
<h2 id="15-进程同步的方法，各有什么优缺点"><a href="#15-进程同步的方法，各有什么优缺点" class="headerlink" title="15. 进程同步的方法，各有什么优缺点"></a>15. 进程同步的方法，各有什么优缺点</h2><p>很容易与进程间通信(IPC)混淆，进程间通信有以下多种：管道，socket，消息队列，信号，信号量，共享内存</p>
<p>而同步方法有：文件锁，信号量，管道+select等，socket+select等</p>
<p>IPC的各种方法中消息队列不需要同步控制，但需要两次拷贝且需要处理上次的残余消息。共享内存需要同步控制，通常和信号量共同使用。管道和socket使用了内核锁进行同步控制。</p>
<p>文件锁效率不如信号量，但文件锁使用简单且会在进程退出时自动释放。</p>
<h2 id="16-STATIC变量与全局变量区别，DLL共享了哪些信息"><a href="#16-STATIC变量与全局变量区别，DLL共享了哪些信息" class="headerlink" title="16. STATIC变量与全局变量区别，DLL共享了哪些信息"></a>16. STATIC变量与全局变量区别，DLL共享了哪些信息</h2><p>声明了static的变量或函数就失去了全局可见性仅能在声明文件内被访问；全局变量和static变量都在所谓的“静态存储区”，会在开始运行时即完成初始化，默认为0；所以主要区别还是访问域的。</p>
<h2 id="17-一个星期秒数的宏定义写法"><a href="#17-一个星期秒数的宏定义写法" class="headerlink" title="17.一个星期秒数的宏定义写法"></a>17.一个星期秒数的宏定义写法</h2><p><code>#define WEEK_SEC (7*24*3600UL)</code>，注意整形常量默认声明为int类型尽管32位下够用但声明为L兼容性更好，而秒数不可能为负数且可能由星期宏定义扩展为月或年故声明为UL更好</p>
<h2 id="18-MYSQL有哪些存储引擎，MYISAM与INNODB有什么不同"><a href="#18-MYSQL有哪些存储引擎，MYISAM与INNODB有什么不同" class="headerlink" title="18. MYSQL有哪些存储引擎，MYISAM与INNODB有什么不同"></a>18. MYSQL有哪些存储引擎，MYISAM与INNODB有什么不同</h2><p>MySQL有MyISAM，InnoDB，HEAP(内存)，BDB，CSV等</p>
<h2 id="19-GFS的元数据控制与数据控制流"><a href="#19-GFS的元数据控制与数据控制流" class="headerlink" title="19. GFS的元数据控制与数据控制流"></a>19. GFS的元数据控制与数据控制流</h2><h2 id="20-什么是僵死进程，什么是孤儿进程，进程退出会自动释放哪些资源"><a href="#20-什么是僵死进程，什么是孤儿进程，进程退出会自动释放哪些资源" class="headerlink" title="20. 什么是僵死进程，什么是孤儿进程，进程退出会自动释放哪些资源"></a>20. 什么是僵死进程，什么是孤儿进程，进程退出会自动释放哪些资源</h2><p>由于允许父进程调用wait系统调用检查子进程退出情况，因此子进程运行结束后需要继续等待，此时通知父进程并进入EXIT_ZOMBIE状态；而如果父进程先于子进程退出，则会将孤儿子进程交由init进程管理，这样init进程可以使用wait系统调用检查子进程终止然后删除EXIT_ZOMBIE状态进程；所以僵死进程一定是父进程没有退出且没有调用wait进行处理的子进程，而孤儿进程是父进程先于子进程退出的进程且一定会被init妥善管理，所以前者多了会消耗资源而后者不会。</p>
<p>进程退出会向所有线程发出退出信号，自动关闭文件描述符，释放socket连接，存储映射区也会自动解除（关闭文件描述符并不能解除存储映射），释放文件上的锁，信号量仅在设置undo标志时才会自动回收。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://chaozh.github.com/2014/09/21/tech-problems-programer-should-know/" data-id="cjap5ltwg007qb8rl2ouoac1g" class="article-share-link">Share</a>
      
        <a href="http://chaozh.github.com/2014/09/21/tech-problems-programer-should-know/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/InnoDB/">InnoDB</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WP实现/">WP实现</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/url重定向/">url重定向</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/内核/">内核</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-status-of-web-componets-echosystem" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/08/28/status-of-web-componets-echosystem/" class="article-date">
  <time datetime="2014-08-28T11:11:46.000Z" itemprop="datePublished">2014-08-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端/">前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/08/28/status-of-web-componets-echosystem/">Web Components生态圈现状</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>由Polymer的主要开发人员总结的Web Components生态圈现状，还是Polymer的各种广告。</p>
<script class="speakerdeck-embed" src="//speakerdeck.com/assets/embed.js" async data-id="8a99e8000ed301329562323b621a35b7" data-ratio="1.77777777777778"></script>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://chaozh.github.com/2014/08/28/status-of-web-componets-echosystem/" data-id="cjap5ltvy0072b8rluqi0xixm" class="article-share-link">Share</a>
      
        <a href="http://chaozh.github.com/2014/08/28/status-of-web-componets-echosystem/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html5/">html5</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-use-data-star-attribute" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/08/25/use-data-star-attribute/" class="article-date">
  <time datetime="2014-08-25T22:33:08.000Z" itemprop="datePublished">2014-08-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端/">前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/08/25/use-data-star-attribute/">使用data-*属性指南</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文内容参考自MDN的<a href="https://hacks.mozilla.org/2012/10/using-data-attributes-in-javascript-and-css/" target="_blank" rel="noopener">using-data-attributes-in-javascript-and-css</a>一文</p>
<div><br><br>一篇2012年的文章，目前data-<em>属性作为HTML5规范已经不能算是新特性了，主要是JSconf里看到troopjs使用，而boss问其他小伙伴时他们居然都不知道，于是就想总结一番。<br><br>data-</em>属性使用起来也很直观：<br><pre>&lt;article id=”electriccars” data-columns=”3” data-indexnumber=”12314” data-parent=”cars”&gt;…&lt;/article&gt;</pre><br>;<br><br>JS可以使用getAttribute方法获得data-<em>属性的值，当然HTML5规范里也提供更为简便的方法:<br><div><br><pre>    var article = document.querySelector(‘#electriccars’),<br>                  data = article.dataset;<br><br>    // data.columns -&gt; “3”<br>    // data.indexnumber -&gt; “12314”<br>    // data.parent -&gt; “cars”<br></pre><br></div><br>每个属性返回都是string类型，但是可以直接设置article.dataset.columns = 5 从而改变属性的值<br><br>大多数人不知道的是HTML5还规定了data-属性相关CSS接口，可以通过该属性值来填充内容:<br><div><br><pre>    article::before {<br>      content: attr(data-parent);<br>    }<br></pre><br></div><br>你也可以在选择器中使用data-</em>属性:<br><div><br><pre>    article[data-columns=’3’]{<br>      width: 400px;<br>    }<br>    article[data-columns=’4’]{<br>      width: 600px;<br>    }<br></pre><br></div><br>data-*属性的优势在于相关数据直接与dom节点绑定，css接口使用也挺方便，至于效率方面是否比window storage更高，留待以后测试。未来结合Web Component技术，倒是又可以大放异彩。<br><br></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://chaozh.github.com/2014/08/25/use-data-star-attribute/" data-id="cjap5ltwp008eb8rl48yqio7r" class="article-share-link">Share</a>
      
        <a href="http://chaozh.github.com/2014/08/25/use-data-star-attribute/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html5/">html5</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-introduce-web-components" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/08/10/introduce-web-components/" class="article-date">
  <time datetime="2014-08-10T21:00:00.000Z" itemprop="datePublished">2014-08-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端/">前端</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/08/10/introduce-web-components/">漫谈Web Components技术</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>第一次听说Web Components相关技术是在2013年从<a href="http://www.html5rocks.com/en/tutorials/webcomponents/shadowdom/" title="Shadow DOM 101" target="_blank" rel="noopener">Shadow DOM 101</a>这篇文章得知，只当是个模板技术的浏览器实现。谁想在Google IO 2014竟然将基于Web Components技术的Polymer专门做了个专题进行大篇幅介绍，其中Custom Element加上Imports的组合概念堪称惊艳，有种前端界的MapReduce的感觉。其实Google早在13年就已经花了部分精力对<a href="http://www.webcomponentsshift.com/#1" target="_blank" rel="noopener">Web Components技术进行了介绍</a>(链接是当时演讲里的ppt，部分协议标准已经产生了变化)，只是未像IO 14一样做专题介绍。</p>
<p>比如：<br><img src="https://cms-assets.tutsplus.com/uploads/users/53/posts/21524/image/gangnam.gif" alt=""><br><a href="http://playground.chaozh.com/gangnam.html" target="_blank" rel="noopener">Live demo</a> - 自己实现了一个，得用现代浏览器(推荐webkit内核)打开才行</p>
<p>使用Custom Element创建后可以通过HTML Import加载，然后直接使用</p>
<pre>&lt;x-gangnam-style&gt;&lt;/x-gangnam-style&gt;</pre>

<h2 id="1-规范现状"><a href="#1-规范现状" class="headerlink" title="1. 规范现状"></a>1. 规范现状</h2><p>Web Components技术由W3C规范进行定义，实际由四种技术组成：</p>
<ul>
<li>Custom ELements，可以创建自定义html标签元素，而且支持对现有html元素进行扩展，从而自定义新的API</li>
<li>HTML Template, 使用template标签包含html相关代码片段，作用行为基本类似于JS模板引擎里的视图(View)</li>
<li>Shadow DOM,，可以创建对外隐藏的web片段，关键是支持独立的样式，不会影响所在文档内的其他样式</li>
<li>HTML Imports, 提供对模板或者自定义元素这些资源的加载支持，可以像引用JS或CSS一样引用HTML组件<br>截至2014年8月17日，四个技术标准中HTML Template已经从Web Components规范中移除，并加入到HTML5标准中，这意味着该技术协议已经处于完成状态，不会再出现改动。Custom ELements也进入“Last Call”阶段，今后改动可能性也不大了。另外两个仍然存在修改的可能，因此下面的介绍只能当做谈资了解了解罢了。有关Web Components的规范现状与详细定义可以在这个<a href="http://www.w3.org/TR/#tr_Web_Components" target="_blank" rel="noopener">链接</a>中找到。</li>
</ul>
<h2 id="2-Custom-ELements"><a href="#2-Custom-ELements" class="headerlink" title="2. Custom ELements"></a>2. Custom ELements</h2><p>原本Custom ELements设计是通过新增的element标签来实现自定义html标签元素，但由于种种问题，最终删去了相关规范。目前只能通过<code>document.registerElement(tagName, prototype)</code>方法来定义标签。该方法提供元素原型继承的接口，可以通过<code>Object.create</code>方法创建元素作为prototype传入。在这个gangnam-style示例中就使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gangnamProto = <span class="built_in">Object</span>.create(HTMLElement.prototype);</span><br><span class="line"></span><br><span class="line">  gangnamProto.createdCallback = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="comment">// deal with element view create </span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  gangnamProto.attachedCallback = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// deal with event bind</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.registerElement(<span class="string">"x-gangnam-style"</span>, &#123;</span><br><span class="line">    prototype: gangnamProto </span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p>接着就可以直接在html文件中使用x-gangnam-style标签了</p>
<h2 id="3-HTML-Template"><a href="#3-HTML-Template" class="headerlink" title="3. HTML Template"></a>3. HTML Template</h2><p>该技术规范已经加入到HTML5规范中，成为一个新增的HTML5标签。使用非常简单，直接在html文件中添加template标签即可。该标签在浏览器中会被渲染处理，但不会展示，因此会比以前使用script做js的模板容器在效率上会高一些。需要注意的是获得template标签中的内容，需要使用其content属性，该属性返回<code>documentFragment</code>类型。而将content内容插入到目标元素中后会导致内容丢失，因此需要使用cloneNode方法进行拷贝保证其他元素仍然可以使用这个template中的content内容，或是使用<code>document.importNode</code>方法进行拷贝。在这个gangnam-style示例中就使用：</p>
<pre>
&lt;template id="gangnam-style-tmpl"&gt;
&lt;style&gt;
...
&lt;/style&gt;

&lt;div id="maia-signature"&gt;
&lt;div id="sig" class="zg-sig"&gt;
 &lt;div id="psydroid" class="zg-psydroid"&gt;
 &lt;img alt="" class="zg-psydroid-head" src="http://www.google.com/zeitgeist/2012/images/psydroid-head.png"&gt; 
 &lt;img alt="" class="zg-psydroid-body" src="http://www.google.com/zeitgeist/2012/images/psydroid-body.png"&gt; 
 &lt;img alt="" class="zg-psydroid-arm-l" src="http://www.google.com/zeitgeist/2012/images/psydroid-arm-l.png"&gt;
 &lt;img alt="" class="zg-psydroid-arm-r" src="http://www.google.com/zeitgeist/2012/images/psydroid-arm-r.png"&gt;
 &lt;img alt="" class="zg-psydroid-leg-l" src="http://www.google.com/zeitgeist/2012/images/psydroid-leg-l.png"&gt;
 &lt;img alt="" class="zg-psydroid-leg-r" src="http://www.google.com/zeitgeist/2012/images/psydroid-leg-r.png"&gt;
 &lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/template&gt;
&lt;script&gt;
 ...  
gangnamProto.createdCallback = function(){     
   //deal with element view create     
   var thisDoc = document.currentScript.ownerDocument;  
   var tmpl = thisDoc.querySelector("#gangnam-style-tmpl");               
   //shadow.appendChild(tmpl.content.cloneNode(true)); also works!
   shadow.appendChild(document.importNode(tmpl.content, true)); 
} 
...  
&lt;/script&gt;
</pre>

<p>这样就可以在Custom Element中使用template中已经定义好的html结构与样式。当然为保证接口与样式的封装性，这里还将HTML Template与Shadow DOM结合了起来。</p>
<h2 id="4-Shadow-DOM"><a href="#4-Shadow-DOM" class="headerlink" title="4. Shadow DOM"></a>4. Shadow DOM</h2><p>这个技术规范堪称Web Components的灵魂所在，而且早已经用于HTML5标签技术中，只是不曾暴露接口给JS调用罢了。例如HTML5中的video标签就包含了Shadow DOM。现在可以在任何DOM节点上创建Shadow DOM，使用这个技术的好处在于Shadow DOM可以完全封装其中的dom结构与style样式，使得相关信息对用户透明。特别是包含在其中的样式，完全不会影响到其他元素，从而使得形成独立UI组件成为可能。Shadow DOM创建起来非常简单，调用createShadowRoot即可：</p>
<p><pre> gangnamProto.createdCallback = function(){<br>   …<br>   var shadow = this.createShadowRoot();<br>   shadow.appendChild(document.importNode(tmpl.content, true));<br> }<br></pre><br>同时Shadow DOM还提供<code>&lt;content&gt;</code>标签，该标签可以使用rel属性让浏览器选择性的填充其中的内容。（<del>不知为何该标签在Chrome 36里失效 </del>实际没有失效，只是dev tool展示比较奇怪，让本人误会了）<br>为方便CSS样式进行Shadow DOM的匹配选择，该技术还提供了多个CSS相关选择符，包括::shadow，/deep/，::host，::host-context，::content等。<br>目前该技术仍然在修订中，所以还存在不少变数。</p>
<h2 id="5-HTML-Import"><a href="#5-HTML-Import" class="headerlink" title="5. HTML Import"></a>5. HTML Import</h2><p>在前面将Web Component封装在一个HTML文件中后，如何引用该组件并重复运用就成为了问题，这时就需要使用HTML Import技术。该技术使用起来很方便，一句话即可：</p>
<p><pre>&lt;link rel=”import” href=”./x-gangnam-style.html”&gt;</pre><br>同时可以使用<code>rel=import</code>获得该link节点：</p>
<p><pre>var link = document.querySelector(‘link[rel=import]’);</pre><br>目前该技术也仍然在修订中，而且很多细节都在变更。</p>
<h2 id="6-总结"><a href="#6-总结" class="headerlink" title="6. 总结"></a>6. 总结</h2><p>这些技术目前还没有浏览器完全支持，而且规范还在修改中，因此完全不存在工业界使用的可能性。但是这些技术其实早就在浏览器中不断使用，只是没有暴露相关接口而已，规范需要决定的只是怎么暴露，如何让开发者方便使用而已，因此这些Web Component技术的普及可谓是必然。当然，Web组件的最终形态肯定不是直接使用这些规范，多看看微软GUI组件的发展轨迹就可以知道基于新的Web Component规范的Web组件未来还有很长的路要走。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://chaozh.github.com/2014/08/10/introduce-web-components/" data-id="cjap5ltvb005nb8rl2c2tvjx9" class="article-share-link">Share</a>
      
        <a href="http://chaozh.github.com/2014/08/10/introduce-web-components/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS模板/">JS模板</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html5/">html5</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-design-of-useful-bluetooth-ipad-keyboard" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/07/19/design-of-useful-bluetooth-ipad-keyboard/" class="article-date">
  <time datetime="2014-07-19T11:29:57.000Z" itemprop="datePublished">2014-07-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/产品设计/">产品设计</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/07/19/design-of-useful-bluetooth-ipad-keyboard/">关于ipad蓝牙键盘设计</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>为手中的ipad买了个B.O.W航世蓝牙键盘，本意是方便写博客，但是实际使用后发现键盘设计问题颇多，还是样式设计大于实际功能设计，说白点就是好看不好用。</p>
<p>首先最大的问题是没有取消键，ipad默认拼音输入法带有联想输入功能，而本人在使用键盘输入时竟找不到取消输入功能，即通常键盘都有的esc键功能。该键盘对应位置放了个home键，习惯性的按下去就会退回到ipad主页，直接切出了app程序。琢磨了半天也没发现对应esc的按键在哪里，如今也只能用空格键＋backspace键代替，需要多按一下，好不尴尬。</p>
<p>其次是没有导航相关按键的绑定，即不能用键盘来浏览ipad页面上放置的app，还得自己手进行滑动并点击才能选择。当然这个可能是IOS系统本身就没有提供对应的API，不过键盘如果支持的话更符合用户的要求。</p>
<p>然后是键盘上很多按键设计得莫名奇妙，看图标样式完全不知道是干什么用的，都试过一遍后发现十几个键里也只有一半有用，其他完全没有绑定IOS操作。</p>
<p>使用后感觉Ipad蓝牙键盘只能用来满足输入要求，基本就是虚拟键盘都完全替代品，对方便操作没有什么帮助。这篇文章就是使用该ipad蓝牙键盘输入的，如果有什么错误，那都是联想输入法害的，谁要我怎么也无法在键盘上找到esc取消键呢。</p>
<p><strong>new! 使用ipad进行输入的另一个麻烦是复制粘贴很不方便，选择部分文字还是得使用本人的fat finger在屏幕上不断乱点，n多次会失败，麻烦的很。而且多个app间进行切换简直就是灾难。不懂ipad为何不能设计像surface pro一样切屏显示。</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://chaozh.github.com/2014/07/19/design-of-useful-bluetooth-ipad-keyboard/" data-id="cjap5ltuj0043b8rljbsc5501" class="article-share-link">Share</a>
      
        <a href="http://chaozh.github.com/2014/07/19/design-of-useful-bluetooth-ipad-keyboard/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/外设/">外设</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/苹果/">苹果</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/键盘/">键盘</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-why-programming-language-x-is-unambiguously-better-than-programming-language-y" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/12/25/why-programming-language-x-is-unambiguously-better-than-programming-language-y/" class="article-date">
  <time datetime="2013-12-25T09:40:55.000Z" itemprop="datePublished">2013-12-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/后端语言/">后端语言</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/12/25/why-programming-language-x-is-unambiguously-better-than-programming-language-y/">Why [Programming Language X] Is Unambiguously Better than [Programming Language Y]</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>转载神文一篇如下：</p>
<p>Recently I have seen a lot of people wondering about the difference between [X] and [Y]. After all, they point out, both are [paradigm] languages that target [platform] and encourage the [style] style of programming while leaving you enough flexibility to [write shitty code].</p>
<p>Having written [simple program that’s often asked about in phone screens] in both languages, I think I’m pretty qualified to weigh in. I like to think about it in the following way: imagine [toy problem that you might give to a 5th grader who is just learning to program]. A [Y] implementation of it might look like this:</p>
<p>[really poorly engineered Y code]</p>
<p>Whereas in [X] you could accomplish the same thing with just</p>
<p>[slickly written X code that shows off syntactic sugar]</p>
<p>It’s pretty clear that the second is easier to understand and less error-prone.</p>
<p>Now consider type systems. [Religious assertion about the relative merits and demerits of static and dynamic typing.] Sure, [Y] gives you [the benefit of Y’s type system or lack thereof] but is this worth [the detriment of Y’s type system or lack thereof]? Obviously not!</p>
<p>Additionally, consider build tools. While [Y] uses [tool that I have never bothered to understand], [X] uses the far superior [tool that I marginally understand]. That’s reason enough to switch!</p>
<p>Finally, think about the development process. [X] has the amazing [X-specific IDE that’s still in pre-alpha], and it also integrates well with [text-editor that’s like 50 years old and whose key-bindings are based on Klingon] and [IDE that everyone uses but that everyone hates]. Sure, you can use [Y] with some of these, but it’s a much more laborious and painful process.</p>
<p>In conclusion, while there is room for polyglotism on the [platform] platform, we would all be well served if you [Y] developers would either crawl into a hole somewhere or else switch to [X] and compete with us for the handful of [X] jobs. Wait, never mind, [Y] is awesome!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://chaozh.github.com/2013/12/25/why-programming-language-x-is-unambiguously-better-than-programming-language-y/" data-id="cjap5ltwy0092b8rlm8tm65zv" class="article-share-link">Share</a>
      
        <a href="http://chaozh.github.com/2013/12/25/why-programming-language-x-is-unambiguously-better-than-programming-language-y/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/语法/">语法</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-xshell-and-vim-in-chinese" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/09/15/xshell-and-vim-in-chinese/" class="article-date">
  <time datetime="2013-09-15T09:32:54.000Z" itemprop="datePublished">2013-09-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/系统经验/">系统经验</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/09/15/xshell-and-vim-in-chinese/">Xshell及Vim中文乱码解决</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>首先要保证Linux本地语言设置，主要是LC_ALL的设置（该设置会覆盖其他设置），可以使用locale查看。临时修改使用export LC_ALL=”zh_CN.UTF-8”，永久修改需要修改文件/etc/profile增加或修改export LC_ALL=zh_CN.UTF-8，修改完后无需重启。</p>
<p>其次要保证Xshell的连接编码使用utf-8而非默认编码。最后设置vim修改~/.vimrc增加set fileencodings=utf-8,gbk一行</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://chaozh.github.com/2013/09/15/xshell-and-vim-in-chinese/" data-id="cjap5ltxd009xb8rlwb91djjt" class="article-share-link">Share</a>
      
        <a href="http://chaozh.github.com/2013/09/15/xshell-and-vim-in-chinese/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux设置/">Linux设置</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/中文汉化/">中文汉化</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-cracking-the-coding-interview-q19-20" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/09/05/cracking-the-coding-interview-q19-20/" class="article-date">
  <time datetime="2013-09-05T10:57:55.000Z" itemprop="datePublished">2013-09-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/课程总结/">课程总结</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/09/05/cracking-the-coding-interview-q19-20/">Cracking the coding interview Q19-20</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>19.1 Write a function to swap a number in place without temporary variables</p>
<pre>x=x^y y=x^y x=x^y</pre>
**19.2 Design an algorithm to figure out if someone has won in a game of tic-tac-toe**

We could use 1 for player1 and 2 for player2 and sum caculation to judge if any player wins or we can simply go though all directions to judge after any player make a move.

**19.3 Write an algorithm which computes the number of trailing zeros in n factorial**

Just caculate how many 5 are there in factors as 2 is usualy enough and be careful that 25 has two 5 rather than one.

<pre>
int NumZeros(int n){
    if(n < 0) return -1;
    int num = 0;
    while((n /= 5) > 0){ //deal with factor like 25
        num += n;
    }
    return num;
}
</pre>

<p><strong>19.4 Write a method which finds the maximum of two numbers. You should not use if-else or any other comparison operator. EXAMPLE Input: 5, 10 Output: 10</strong></p>
<pre>
int mmax(int a, int b){
    int c = a - b;
    int k = (c>>31) & 0x01; //sign bit
    return a - k*c; //marvelous
}
</pre>

<p><strong>19.5 The Game of Master Mind is played as follows:<br>The computer has four slots containing balls that are red (R), yellow (Y), green (G) or blue (B). For example, the computer might have RGGB (e.g., Slot #1 is red, Slots #2 and #3 are green, Slot #4 is blue)<br>You, the user, are trying to guess the solution. You might, for example, guess YRGB When you guess the  correct color for the correct slot, you get a “hit”. If you guess a color that exists but is in the wrong  slot,  you get a “pseudo-hit”. For example, the guess YRGB has 2 hits and one pseudo hit. For each guess, you are told the number of hits and pseudo-hits Write a method that, given a guess and a solution, returns  the number of hits and pseudo hits. </strong></p>
<p>The key is to figure out if any color could be judge multiple times. If not, which is a harder problem, go though the guess and the solution in the same time and judge hit first then increase corresponding color in solution’s count if not hit and reduce color in guess’s count, remember if count is ever bigger or equal to zero then that leads to a pseudo hit count.</p>
<p><strong>19.6 Given an integer between 0 and 999,999, print an English phrase that describes the integer (eg, “One Thousand, Two Hundred and Thirty Four”)  </strong></p>
<p>Firstly check zero and then check thousand using length and be careful with eleven to nineteen. </p>
<p><strong>19.7 You are given an array of integers (both positive and negative). Find the continuous sequence with the largest sum. Return the sum EXAMPLE Input: {2, -8, 3, -2, 4, -10} Output: 5 (i.e. , {3, -2, 4} ) </strong></p>
<p>It’s a classic dp problem and dp[i] = max{dp[i-1]+k[i], k[i]}</p>
<p><strong>19.8 Design a method to find the frequency of occurrences of any given word in a book</strong></p>
<p>Using tire tree (or hash) and count every word.</p>
<p><strong>19.9 Since XML is very verbose, you are given a way of encoding it where each tag gets mapped to a pre-defined integer value. The language/grammar is as follows:<br>  Element –&gt; Element Attr* END Element END [aka, encode the element tag, then its attributes, then tack on an END character, then encode its children, then another end tag]<br>  Attr –&gt; Tag Value [assume all values are strings]<br>  END –&gt; 01<br>  Tag –&gt; some predefined mapping to int<br>  Value –&gt; string value END<br>Write code to print the encoded version of an xml element (passed in as string)<br>FOLLOW UP<br>Is there anything else you could do to (in many cases) compress this even further?</strong></p>
<p><strong>19.10 Write a method to generate a random number between 1 and 7, given a method that generates a random number between 1 and 5(i.e., implement rand7() using rand5()). FOLLOW use randAB() to generate randCD()</strong></p>
<pre>def rand7():
         ret = rand5()+rand5()
         if ret > 7:
            return rand7()
         return ret
     # A is bigger than B
     def randB():
         ret = randA()
         if(ret > B*(A/B))
            return randB()
         return ret%B+1
</pre>

<p><strong>19.11 Design an algorithm to find all pairs of integers within an array which sum to a specified value.</strong> </p>
<p>Firstly sort and then go though the array from the lowest and highest to judge if their sum equals to a specified value.</p>
<p><strong>20.1 Write a function that adds two numbers. You should not use + or any arithmetic operators.</strong></p>
<pre>
int add(int a, int b){
    while(b != 0){
        int sum = a^b; // (0,1)->1 (1,1)->0 (0,0)->0
        int carry = (a & b)<<1; and="" shift="" left="" to="" generate="" carry="" a="sum;" b="carry;" }="" return="" a;="" better="" solution="" int="" add(int="" a,="" b){="" char="" *c="(char" *)a;="" convert="" address="" (int)&c[b];="" using="" array="" add="" <="" pre="">

<p><strong>20.2 Write a method to shuffle a deck of cards. It must be a perfect shuffle in other words, each 52! permutations of the deck has to be equally likely. Assume that you are given a random number generator which is perfect.</strong>  </p>
<p>Randomly pick up a card from total and remove it in the next turn, code like build heap.</p>
<pre>
def shuffle(cards):
    for i in range(0, len(cards)):
        j= random() % (len(cards)-i) + i #key step
        cards[i],cards[j]=cards[j],cards[i]
    return cards
</pre>

<p><strong>20.3 Write a method to randomly generate a set of m integers from an array of size n. Each element must have equal probability of being chosen</strong></p>
<p>almost the same as the upper question.</p>
<p><strong>20.4 Write a method to count the number of 2s between 0 and n.</strong></p>
<p>check every factor and count by caculation.</p>
<p><strong>20.5 You have a large text file containing words. Given any two words, find the shortest distance (in terms of number of words) between them in the file. Can you make the searching operation in O(1) time? What about the space complexity for your solution?</strong></p>
<p>It must be solved by using hash table, yet it should be build by traverse the file and record every two words’ min distance and hash key is based on the sum of words and takes O(n^2) time and space to build that hash table. We assume that word order does not matter.</p>
<p><strong>20.6 Describe an algorithm to find the largest 1 million numbers in 1 billion numbers. Assume that the computer memory can hold all one billion numbers</strong></p>
<p>It’s easy to do with the min-heap and replacement algorithm (STL partial sort) or use O(n) partition algorithm (kth biggest elem) as all datas can be hold in memory.</p>
<p><strong>20.7 Write a program to find the longest word made of other words in a list of words EXAMPLE Input: test, tester, testertest, testing, testingtester Output: testingtester</strong></p>
<p>Sort the words from long to short by length firstly and check every word’s prefix and rest letters if they appears in the words array and we could use hash table to optimize the check so the whole takes O(nlgn)+O(n<em>1</em>d) time.</p>
<p><strong>20.8 Given a string s and an array of smaller strings T, design a method to search s for each small string in T</strong></p>
<p>Using tire tree yet you must know how to build one. We can build one based on suffix of the string s (taking O(m^2) time and space to build the tree and judge in k<em>O(n) time) or better we can construct an AC automachine（taking O(m) time to build and k</em>O(n) + O(s) time to judge）</p>
<p><strong>20.9 Numbers are randomly generated and passed to a method. Write a program to find and maintain the median value as new values are generated </strong></p>
<p>We can build max-heap on the first half and min-heap on the second half then it takes O(1) to get median and O(nlgn) to maintain. In fact, we only need four（or five） numbers (min and max in two halfs) to get median and maintain.</p>
<p><strong>20.10 Given two words of equal length that are in a dictionary, write a method to transform one word into another word by changing only one letter at a time. The new word you get in each step must be in the dictionary EXAMPLE Input: DAMP, LIKE Output: DAMP -&gt; LAMP -&gt; LIMP -&gt; LIME -&gt; LIKE</strong></p>
<p>It could be solved by BFS and trace back method.</p>
<p><strong>20.11 Imagine you have a square matrix, where each cell is filled with either black or white. Design an algorithm to find the maximum subsquare such that all four borders are filled with black pixels</strong></p>
<p>It ask to find the biggest subsquare in black, just go though the square matrix and check. Remember we are deal with the square thus every line length should be equal so if col is smaller than current max then it’s impossible to find a bigger subsquare and we can stop traverse.</p>
<p><strong>20.12 Given an NxN matrix of positive and negative integers, write code to find the submatrix with the largest possible sum</strong>  </p>
<p>We can combine row i to j and form a new one-dimension array. It takes O(n) time to find largest sum in a one-dimension array and we get n^2 that kind of arrays in all, thus takes O(n^3) time as a whole.</p>
<p><strong>20.13 Given a dictionary of millions of words, give an algorithm to find the largest possible rectangle of letters such that every row forms a word (reading left to right) and every column forms a word (reading top to bottom)</strong></p>
<p>It ask to form a largest matrix of words so all the chosen words must be in the same length and we could use tire tree to judge prefix of the colums’ words ever exists.</p>
</1;></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://chaozh.github.com/2013/09/05/cracking-the-coding-interview-q19-20/" data-id="cjap5lttv002ub8rlrtfonogg" class="article-share-link">Share</a>
      
        <a href="http://chaozh.github.com/2013/09/05/cracking-the-coding-interview-q19-20/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法/">算法</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/面试/">面试</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-code-interview-sub-array-sum-questions" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/09/03/code-interview-sub-array-sum-questions/" class="article-date">
  <time datetime="2013-09-03T14:42:06.000Z" itemprop="datePublished">2013-09-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/面试总结/">面试总结</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/09/03/code-interview-sub-array-sum-questions/">面试题总结：子数组问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>公用题干为一个包含正数及负数的数组k</p>
<h3 id="1-找到连续的子数组和最大，最小，最接近m（比如0）"><a href="#1-找到连续的子数组和最大，最小，最接近m（比如0）" class="headerlink" title="1.找到连续的子数组和最大，最小，最接近m（比如0）"></a>1.找到连续的子数组和最大，最小，最接近m（比如0）</h3><p>最大的dp方程为dp[i]=max{dp[i-1]+k[i], k[i]}，最小情况完全类似</p>
<pre>def submax(k[]):
    smax=MIN, cmax=0
    for i in range(0,len(k)-1):
        cmax=max(cmax+k[i], k[i])
        smax=max(smax, cmax)
    return smax</pre>
最接近m的处理方法，首先考虑特殊的m比如0，此时处理办法：首先用数组sum[0]=0, sum[i+1]=a[0]+a[1]+...+a[i]即包含第一个元素的元素和（这些元素相减可以构成子数组和）进行排序，然后遍历该数组并找到绝对值最小的两个相邻元素。所以对于m也可以采取同样的办法，遍历寻找与m值差绝对值最小的两个相邻元素即可。时间复杂度为O(nlgn)，空间复杂度为O(n)
<pre>def subsum(k[], m):
    sums = []
    sums[0]=0
    for i in range(0, len(k)):
        sums[i+1] = sums[i]+k[i]
    sums.sort()
    smin=m, cmin=0
    for i in range(1,len(k)+1):
        cmin=abs(sums[i]-sums[i-1]-m)
        smin=min(smin, cmin)
    return smin</pre>

<h3 id="2-找到几个子数组和最大，最小，最接近m"><a href="#2-找到几个子数组和最大，最小，最接近m" class="headerlink" title="2.找到几个子数组和最大，最小，最接近m"></a>2.找到几个子数组和最大，最小，最接近m</h3><p>几个子数组和最大的dp方程为dp[i][j]=max{dp[i][j-1]+k[j], max{dp[i-1]<a href="0 &lt;p&lt;j">p</a>}+k[j]}，即考察k[j]是包含在第i组里面，还是再单独成组。最小情况完全类似。</p>
<p>找到n个数的和最接近m，我们仅考虑小于m且这里不考虑存在负数的情况（因为需要遍历可能的和值），使用类似0-1背包的方法仅有的限制是背包重量不能超过m，时间复杂度为O(n^2*m)</p>
<pre>def subsum(k[], m):
#dp[j][p]代表是否找到j个数使得和等于p
dp =[[0 for j in range(m+2)] for i in range(len(k)+1)]
for i in range(1, len(k)+1):
        for j in range(1, m):
               dp[i][j]=max(dp[i-1][j], dp[i-1][j-k[j]]+k[j])
return dp[len(k)][m+1]</pre>

<h3 id="3-分割为两个子数组和最接近，添加正负号使结果最接近0"><a href="#3-分割为两个子数组和最接近，添加正负号使结果最接近0" class="headerlink" title="3.分割为两个子数组和最接近，添加正负号使结果最接近0"></a>3.分割为两个子数组和最接近，添加正负号使结果最接近0</h3><p>假设2n的正整数数组和为SUM，则问题变为找到n个数和最接近SUM/2，接近SUM/2就可能大于或小于SUM/2，我们仅考虑小于SUM/2且这里不考虑存在负数的情况（因为需要遍历可能的和值），使用类似0-1背包的方法有两个限制：一个是数目等于n，另一个是背包重量不能超过SUM/2，时间复杂度为O(n^2*m)</p>
<p><pre>def subsum(k[], m):</pre></p>
<p>#dp[2n][n][m/2]<br>dp =[[[0 for p in range(m/2+2)] for j in range(len(k)/2+1)] for i in range(len(k)+1)]<br>for i in range(1, len(k)+1):<br>    for j in range(1, min(i, len(k)/2)+1):<br>        for p in range(m/2+1, k[j]+1, -1):<br>            dp[i][j][p] = max(dp[i-1][j][p], dp[i-1][j-1][p-k[i]]+k[i])</p>
<p>#进行回溯寻找对应元素<br>i=len(k),j=len(k)/2, p=m/2+1<br>for i in range(len(k), 0, -1):<br>    if(dp[i][j][p]==dp[i-1][j-1][p-k[j]]+k[j]):<br>        print k[i]<br>        –j, p-=k[i]<br>return dp[len(k)][len(k)/2][m/2+1]</p>
<p>#简化算法，只能求出最接近的值<br>def subsum(k[], m):</p>
<p>#ok[j][p]代表是否找到j个数使得和等于p，初始化为false<br>ok = [[false for col in range(m/2+1)] for row in range(len(k)/2+1)]<br>ok[0][0] = true<br>for i in range(1, len(k)+1):<br>    for j in range(1, min(i,len(k)/2)+1):<br>        for p in range(m/2+1, k[j]+1, -1):<br>            if ok[j-1][i-k[i]]:<br>               ok[j][p]=true</p>
<p>#找到最接近的值<br>for i in range(m/2+1, -1, -1):<br>    if ok[len(k)/2)][i]:<br>       return i<br>如果存在负数，则找到最小的那个负数并将其绝对值加到每个元素上，然后重新求SUM/2</p>
<h3 id="4-找到所有和等于m的两个数，三个数，n个数"><a href="#4-找到所有和等于m的两个数，三个数，n个数" class="headerlink" title="4.找到所有和等于m的两个数，三个数，n个数"></a>4.找到所有和等于m的两个数，三个数，n个数</h3><p>对于两个数的情况可以使用排序扫描的方法，或是排序再二分，或是使用hash表查找</p>
<p>对于三个数的情况同样使用排序扫描的方法，扫描固定一个值，然后双扫描确定另外两个值，时间复杂度为O(n^2)</p>
<p>n个数的情况和第2问中的最接近m方法相同，必须使用0-1背包</p>
<h3 id="5-连续的子数组和最大扩展到二维，n维，循环数组等情况"><a href="#5-连续的子数组和最大扩展到二维，n维，循环数组等情况" class="headerlink" title="5.连续的子数组和最大扩展到二维，n维，循环数组等情况"></a>5.连续的子数组和最大扩展到二维，n维，循环数组等情况</h3><p>对于二维可以枚举另一维的子数组区域，时间复杂度为O(n^2)，而降维后只需O(m)即可得到答案，故而总时间复杂度为O(n^2*m)</p>
<p>数组首尾相连可以分为原问题和数组跨界两种情况，后者可以采用数组所有元素总值减去最小子数组和的方法来解决。</p>
<h3 id="6-在两个数组中找到两个数和等于m，三个数组中找三个数，n个数组的情况"><a href="#6-在两个数组中找到两个数和等于m，三个数组中找三个数，n个数组的情况" class="headerlink" title="6. 在两个数组中找到两个数和等于m，三个数组中找三个数，n个数组的情况"></a>6. 在两个数组中找到两个数和等于m，三个数组中找三个数，n个数组的情况</h3><p>&nbsp;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://chaozh.github.com/2013/09/03/code-interview-sub-array-sum-questions/" data-id="cjap5lttj002gb8rlxhklfwyt" class="article-share-link">Share</a>
      
        <a href="http://chaozh.github.com/2013/09/03/code-interview-sub-array-sum-questions/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/算法/">算法</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/面试/">面试</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-design-and-implementation-of-journaling-object-storage-server" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/09/02/design-and-implementation-of-journaling-object-storage-server/" class="article-date">
  <time datetime="2013-09-02T10:50:21.000Z" itemprop="datePublished">2013-09-02</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/系统架构/">系统架构</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/09/02/design-and-implementation-of-journaling-object-storage-server/">对象存储文件系统分布式日志设计与实现</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>为MDS和OSD缓存构建日志系统以加强系统可用性与一致性。当MDS与OSD使用缓存时，为防止突然的故障导致的内存数据丢失，需要使用日志技术以进行数据恢复</p>
<h3 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h3><p>日志系统支持文件系统配置日志和文件系统操作更新日志（Redo日志），并在MDS端支持分布式事务</p>
<h3 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h3><p>深入研究EXT3文件系统（JBD）及Innodb（MySQL存储引擎）日志系统源码及设计 。</p>
<p>更新日志功能（Redo日志）结合缓存以满足WAL协议，在写缓存前先写日志，日志一直进行顺序写，检查点操作保证空间进行循环使用。</p>
<p>配置日志功能加强客户端请求缓存的重新连接发送</p>
<p>分布式事务主要是MDS端的两阶段提交<br>关键点：日志系统与缓存结合，异步增量检查点，分布式两阶段提交</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://chaozh.github.com/2013/09/02/design-and-implementation-of-journaling-object-storage-server/" data-id="cjap5ltui003yb8rlct6sm2b7" class="article-share-link">Share</a>
      
        <a href="http://chaozh.github.com/2013/09/02/design-and-implementation-of-journaling-object-storage-server/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>



  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/5/">Next &raquo;</a>
    </nav>
  
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/WordPress开发/">WordPress开发</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/产品设计/">产品设计</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/后端语言/">后端语言</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/新技术跟踪/">新技术跟踪</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/移动开发/">移动开发</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/系统架构/">系统架构</a><span class="category-list-count">6</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/系统架构/项目经历/">项目经历</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/系统经验/">系统经验</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/课程总结/">课程总结</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/金融/">金融</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/面试总结/">面试总结</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/项目经历/">项目经历</a><span class="category-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CPU/">CPU</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/InnoDB/">InnoDB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS模板/">JS模板</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux设置/">Linux设置</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MVCC/">MVCC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mac/">Mac</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/">Redis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP/">TCP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WP主题/">WP主题</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WP实现/">WP实现</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WP插件/">WP插件</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WP设置/">WP设置</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebGL/">WebGL</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zookeeper/">Zookeeper</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cache-coherence/">cache coherence</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6/">es6</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fabric/">fabric</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/google/">google</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/history/">history</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5/">html5</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ios应用/">ios应用</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iptv/">iptv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/join/">join</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/karma/">karma</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kv存储/">kv存储</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/memory/">memory</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mutex/">mutex</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/paxos/">paxos</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/raft/">raft</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/url重定向/">url重定向</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web2-0/">web2.0</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/">zookeeper</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/中文汉化/">中文汉化</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/事务/">事务</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/互联网企业/">互联网企业</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/债券/">债券</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/内核/">内核</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/分布式锁/">分布式锁</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/区块链/">区块链</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/华为/">华为</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/基金/">基金</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/外设/">外设</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/存储/">存储</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/实习/">实习</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/开源项目/">开源项目</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/敏捷开发/">敏捷开发</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/无锁并发/">无锁并发</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日志/">日志</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/期货/">期货</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/栅格系统/">栅格系统</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/科研/">科研</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/索引/">索引</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编译器/">编译器</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络/">网络</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/股票/">股票</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/脚本加载/">脚本加载</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/腾讯/">腾讯</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/苹果/">苹果</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/语法/">语法</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/读写锁/">读写锁</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/调度/">调度</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/金山/">金山</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/锁/">锁</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/键盘/">键盘</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/隔离级别/">隔离级别</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面试/">面试</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/项目管理/">项目管理</a><span class="tag-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/CPU/" style="font-size: 10px;">CPU</a> <a href="/tags/CSS/" style="font-size: 11.67px;">CSS</a> <a href="/tags/InnoDB/" style="font-size: 10px;">InnoDB</a> <a href="/tags/JS模板/" style="font-size: 11.67px;">JS模板</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Linux设置/" style="font-size: 10px;">Linux设置</a> <a href="/tags/MVCC/" style="font-size: 10px;">MVCC</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/PHP/" style="font-size: 11.67px;">PHP</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/WP主题/" style="font-size: 16.67px;">WP主题</a> <a href="/tags/WP实现/" style="font-size: 10px;">WP实现</a> <a href="/tags/WP插件/" style="font-size: 16.67px;">WP插件</a> <a href="/tags/WP设置/" style="font-size: 11.67px;">WP设置</a> <a href="/tags/WebGL/" style="font-size: 11.67px;">WebGL</a> <a href="/tags/Zookeeper/" style="font-size: 10px;">Zookeeper</a> <a href="/tags/cache-coherence/" style="font-size: 10px;">cache coherence</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/es6/" style="font-size: 10px;">es6</a> <a href="/tags/fabric/" style="font-size: 11.67px;">fabric</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/google/" style="font-size: 11.67px;">google</a> <a href="/tags/history/" style="font-size: 10px;">history</a> <a href="/tags/html5/" style="font-size: 15px;">html5</a> <a href="/tags/ios应用/" style="font-size: 10px;">ios应用</a> <a href="/tags/iptv/" style="font-size: 10px;">iptv</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/join/" style="font-size: 10px;">join</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/karma/" style="font-size: 10px;">karma</a> <a href="/tags/kv存储/" style="font-size: 10px;">kv存储</a> <a href="/tags/memory/" style="font-size: 10px;">memory</a> <a href="/tags/mutex/" style="font-size: 10px;">mutex</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/nodejs/" style="font-size: 13.33px;">nodejs</a> <a href="/tags/paxos/" style="font-size: 11.67px;">paxos</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/raft/" style="font-size: 10px;">raft</a> <a href="/tags/url重定向/" style="font-size: 10px;">url重定向</a> <a href="/tags/web2-0/" style="font-size: 10px;">web2.0</a> <a href="/tags/zookeeper/" style="font-size: 11.67px;">zookeeper</a> <a href="/tags/中文汉化/" style="font-size: 11.67px;">中文汉化</a> <a href="/tags/事务/" style="font-size: 11.67px;">事务</a> <a href="/tags/互联网企业/" style="font-size: 11.67px;">互联网企业</a> <a href="/tags/债券/" style="font-size: 11.67px;">债券</a> <a href="/tags/内核/" style="font-size: 11.67px;">内核</a> <a href="/tags/分布式锁/" style="font-size: 10px;">分布式锁</a> <a href="/tags/区块链/" style="font-size: 13.33px;">区块链</a> <a href="/tags/华为/" style="font-size: 10px;">华为</a> <a href="/tags/基金/" style="font-size: 11.67px;">基金</a> <a href="/tags/外设/" style="font-size: 10px;">外设</a> <a href="/tags/存储/" style="font-size: 10px;">存储</a> <a href="/tags/实习/" style="font-size: 15px;">实习</a> <a href="/tags/开源项目/" style="font-size: 10px;">开源项目</a> <a href="/tags/敏捷开发/" style="font-size: 10px;">敏捷开发</a> <a href="/tags/数据库/" style="font-size: 18.33px;">数据库</a> <a href="/tags/无锁并发/" style="font-size: 10px;">无锁并发</a> <a href="/tags/日志/" style="font-size: 10px;">日志</a> <a href="/tags/期货/" style="font-size: 11.67px;">期货</a> <a href="/tags/栅格系统/" style="font-size: 10px;">栅格系统</a> <a href="/tags/科研/" style="font-size: 10px;">科研</a> <a href="/tags/算法/" style="font-size: 18.33px;">算法</a> <a href="/tags/索引/" style="font-size: 11.67px;">索引</a> <a href="/tags/编译器/" style="font-size: 10px;">编译器</a> <a href="/tags/网络/" style="font-size: 10px;">网络</a> <a href="/tags/股票/" style="font-size: 11.67px;">股票</a> <a href="/tags/脚本加载/" style="font-size: 10px;">脚本加载</a> <a href="/tags/腾讯/" style="font-size: 15px;">腾讯</a> <a href="/tags/苹果/" style="font-size: 10px;">苹果</a> <a href="/tags/语法/" style="font-size: 11.67px;">语法</a> <a href="/tags/读写锁/" style="font-size: 10px;">读写锁</a> <a href="/tags/调度/" style="font-size: 10px;">调度</a> <a href="/tags/金山/" style="font-size: 10px;">金山</a> <a href="/tags/锁/" style="font-size: 10px;">锁</a> <a href="/tags/键盘/" style="font-size: 10px;">键盘</a> <a href="/tags/隔离级别/" style="font-size: 10px;">隔离级别</a> <a href="/tags/面试/" style="font-size: 20px;">面试</a> <a href="/tags/项目管理/" style="font-size: 11.67px;">项目管理</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">April 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">January 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">December 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/11/">November 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">October 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">September 2012</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/06/">June 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/04/">April 2012</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/03/">March 2012</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/02/">February 2012</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/09/">September 2011</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/05/">May 2011</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/04/">April 2011</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2010/03/">March 2010</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/12/02/Qconf-summary/">(no title)</a>
          </li>
        
          <li>
            <a href="/2017/12/02/Introduction-to-Basic-Fixed-Income-Securities/">(no title)</a>
          </li>
        
          <li>
            <a href="/2017/04/08/blockchain-tech-summary/">区块链技术总结与架构实战</a>
          </li>
        
          <li>
            <a href="/2017/03/23/fabric-ca-design/">Hyperledger Fabric CA设计</a>
          </li>
        
          <li>
            <a href="/2017/02/05/sicp-charpter-two/">SICP第二章总结</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Chao Zheng<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>
  </footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/php-development-env-setup-in-win7-x64.html" class="mobile-nav-link">PHP-WIN</a>
  
</nav>
    
<script>
  var disqus_shortname = 'chaozh';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>